<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Modifica Prodotto</title>
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/nuovoProdotto.css">
</head>
<body>
    <h2>Modifica prodotto</h2>
    <p>Compila il modulo per modificare un prodotto esistente.</p>
    <form th:action="@{/prodotti/update}" th:object="${prodotto}" method="post" enctype="multipart/form-data">
        <input type="hidden" th:field="*{id}" />
        <label for="nome">Nome:</label>
        <input type="text" id="nome" th:field="*{nome}" required>

        <label for="prezzo">Prezzo:</label>
        <input type="number" id="prezzo" th:field="*{prezzo}" required>

        <label for="descrizione">Descrizione:</label>
        <textarea id="descrizione" rows="4" th:field="*{descrizione}"></textarea>

        <label for="tipologia">Tipologia:</label>
        <select id="tipologia" th:field="*{tipologia}" required>
            <option value="Smartphone" th:selected="${prodotto.tipologia == 'Smartphone'}">Smartphone</option>
            <option value="Laptop" th:selected="${prodotto.tipologia == 'Laptop'}">Laptop</option>
            <option value="Tablet" th:selected="${prodotto.tipologia == 'Tablet'}">Tablet</option>
            <option value="Auricolari" th:selected="${prodotto.tipologia == 'Auricolari'}">Auricolari</option>
            <option value="Cuffie" th:selected="${prodotto.tipologia == 'Cuffie'}">Cuffie</option>
            <option value="Console" th:selected="${prodotto.tipologia == 'Console'}">Console</option>
        </select><br/>

        <label for="imagePath">Copertina dell'evento:</label><br/>
            <span>
                <input type="checkbox" name="removeImage" /> Usa immagine di default
            </span>
            <div class="image-selector" th:field="*{imagePath}">
                <label>
                    <input type="radio" name="imagePath" value="Generica.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Generica.jpg'}"/>
                    <img src="/img/default-generica.jpg" alt="Generica" />
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Smartphone.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Smartphone.jpg'}"/>
                    <img src="/img/default-smartphone.jpg" alt="Smartphone" />
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Laptop.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Laptop.jpg'}"/>
                    <img src="/img/default-laptop.jpg" alt="Laptop" />
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Tablet.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Tablet.jpg'}"/>
                    <img src="/img/default-tablet.jpg" alt="Tablet" />
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Auricolari.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Auricolari.jpg'}"/>
                    <img src="/img/default-auricolari.jpg" alt="Auricolari" />
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Cuffie.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Cuffie.jpg'}"/>
                    <img src="/img/default-cuffie.jpg" alt="Cuffie" />
                </label>
                </label>
                <label>
                    <input type="radio" name="imagePath" value="Console.jpg" hidden
                        th:checked="${prodotto.imagePath == 'Console.jpg'}"/>
                    <img src="/img/default-console.jpg" alt="Console" />
                </label>
                <div style="display: flex; align-items: center; position: relative;">
                    <label for="customImage" style="width: 70%">
                        <input type="file" id="customImage" name="customImage" accept="image/*">
                    </label>
                    <span class="material-symbols-rounded" style="margin-left: 5%; margin-bottom: 2%;">info</span>
                    <div class="tooltip">Si consiglia un aspect ratio di 16:9 per le immagini personalizzate.</div>
                </div>
            </div><br/>

            <button type="button" onclick="window.location.href='/home'">Annulla</button>
            <button type="submit">Salva</button>
        </div>
    </form>
</body>
</html>